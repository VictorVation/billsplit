(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(24)},16:function(e,t,a){},22:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n,l,r,o,c=a(0),u=a.n(c),s=a(3),i=a.n(s),E=(a(16),a(8)),p=a(4),m=a(9);!function(e){e.INCREMENT_SHARES="share.inc",e.DECREMENT_SHARES="share.dec",e.CHANGE_SHARE_VALUE="share.change"}(n||(n={})),function(e){e.ADD_PERSON="person.add",e.REMOVE_PERSON="person.remove"}(l||(l={})),function(e){e.SET_SUBTOTAL="subtotal.set",e.SET_GRAND_TOTAL="grandtotal.set"}(r||(r={})),function(e){e.CALCULATE_RESULT="result.calc"}(o||(o={}));var d=a(5),f=a.n(d);function v(e,t){switch(t.type){case l.ADD_PERSON:return 30===e.people.length?e.people:Object(m.a)(e.people).concat([{shares:[0],personTotal:0}]);case l.REMOVE_PERSON:return 2===e.people.length?e.people:e.people.slice(0,-1);case n.INCREMENT_SHARES:case n.DECREMENT_SHARES:case n.CHANGE_SHARE_VALUE:return function(e,t){switch(t.type){case n.INCREMENT_SHARES:return e.map(function(e,a){return null!=t.payload&&null!=t.payload.index&&a===t.payload.index?Object(p.a)({},e,{shares:e.shares.concat([0])}):e});case n.DECREMENT_SHARES:return e.map(function(e,a){return null!=t.payload&&null!=t.payload.index&&a===t.payload.index?Object(p.a)({},e,{shares:e.shares.slice(0,-1)}):e});case n.CHANGE_SHARE_VALUE:return e.map(function(e,a){if(null!=t.payload&&null!=t.payload.shareIndex&&null!=t.payload.value&&a===t.payload.index){var n=e.shares;return n[t.payload.shareIndex]=t.payload.value,Object(p.a)({},e,{shares:n,personTotal:n.reduce(function(e,t){return e+t})})}return e});default:return e}}(e.people,t);default:return e.people}}function h(e,t){return{people:v(e,t),totals:function(e,t){if(null==t.payload)return e.totals;switch(t.type){case r.SET_SUBTOTAL:return Object(p.a)({},e.totals,{subtotal:t.payload.value||0});case r.SET_GRAND_TOTAL:return Object(p.a)({},e.totals,{grandtotal:t.payload.value||0});default:return e.totals}}(e,t),result:function(e,t){switch(t.type){case o.CALCULATE_RESULT:var a=0,n=e.people.map(function(t,n){return a+=t.personTotal,t.personTotal/e.totals.subtotal*e.totals.grandtotal});return 0===e.totals.subtotal?(f()({text:"Enter a Subtotal!",confirmButtonColor:"#70d6ff"}),e.result):0===e.totals.grandtotal?(f()({text:"Enter a Grand Total!",confirmButtonColor:"#70d6ff"}),e.result):a!=e.totals.subtotal?(f()({text:"Items don't add up to subtotal!",confirmButtonColor:"#70d6ff"}),e.result):n.reduce(function(e,t){return e+t})!=e.totals.grandtotal?(f()({text:"Grand Total incorrect!",confirmButtonColor:"#70d6ff"}),e.result):{splits:n,tip:e.totals.grandtotal/e.totals.subtotal-1};default:return e.result}}(e,t)}}var b=u.a.createContext(function(e){}),S={people:[{shares:[0],personTotal:0},{shares:[0],personTotal:0}],totals:{subtotal:0,grandtotal:0},result:null};function T(e){var t=Object(c.useReducer)(h,S),a=Object(E.a)(t,2),n=a[0],l=a[1];return u.a.createElement(b.Provider,{value:l},e.children(n))}var y=a(7);function N(e){var t=e.id,a=e.name,n=e.value;return u.a.createElement("div",{className:"col"},u.a.createElement(y.a,{selectAllOnFocus:!0,className:"col",onChangeEvent:function(t,a,n){return e.onChangeEvent(n)},prefix:"$",value:n,name:a||void 0,id:t||void 0,max:3e3}))}var A=a(2),C=a.n(A);function R(e){var t=e.idx,a=e.person,l=Object(c.useContext)(b);return u.a.createElement(u.a.Fragment,null,u.a.createElement("label",{htmlFor:"person-".concat(t)},"Person ",t),a.shares.length>1&&u.a.createElement("span",{style:{fontSize:"12px"}}," \xb7 ","Total:"," ",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a.personTotal)),u.a.createElement("div",{className:C()("row")},a.shares.map(function(e,a){return u.a.createElement(N,{key:a,onChangeEvent:function(e){return function(e,a){l({type:n.CHANGE_SHARE_VALUE,payload:{index:t,shareIndex:e,value:a}})}(a,e)},value:e,name:0===a?"person-".concat(t):void 0,id:0===a?"person-".concat(t):void 0})}),a.shares.length>1&&u.a.createElement("button",{className:"col-1",onClick:function(){return l({type:n.DECREMENT_SHARES,payload:{index:e.idx}})}},"-"),a.shares.length<=8&&u.a.createElement("button",{className:"col-1",onClick:function(){return l({type:n.INCREMENT_SHARES,payload:{index:e.idx}})}},"+")))}function g(e){var t=Object(c.useContext)(b);return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,e.people.map(function(e,t){return u.a.createElement(R,{person:e,idx:t,key:t})})),u.a.createElement("div",{className:C()("row"),style:{marginTop:"32px"}},e.people.length<30&&u.a.createElement("button",{onClick:function(){return t({type:l.ADD_PERSON})},className:C()("center","col","background-green")},"Add Person"),e.people.length>2&&u.a.createElement("button",{onClick:function(){return t({type:l.REMOVE_PERSON})},className:C()("center","col","background-red"),disabled:2===e.people.length},"Remove Person")))}function _(e){var t=Object(c.useContext)(b),a=e.grandtotal,n=e.subtotal;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:C()("row")},u.a.createElement("div",{className:C()("col")},u.a.createElement("label",{htmlFor:"subtotal"},"Subtotal ",u.a.createElement("abbr",{title:"Sum of the prices of all items"},"[?]")),u.a.createElement(N,{onChangeEvent:function(e){t({type:r.SET_SUBTOTAL,payload:{value:e}})},value:n,name:"subtotal",id:"subtotal"}))),u.a.createElement("div",{className:C()("row")},u.a.createElement("div",{className:C()("col")},u.a.createElement("label",{htmlFor:"grandTotal"},"Grand Total"," ",u.a.createElement("abbr",{title:"Sum of all items, plus tax and tip"},"[?]")),u.a.createElement(N,{onChangeEvent:function(e){t({type:r.SET_GRAND_TOTAL,payload:{value:e}})},value:a,name:"grandTotal",id:"grandTotal"}))))}function x(e){var t=Object(c.useContext)(b);return u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{className:C()("background-blue"),onClick:function(){return t({type:o.CALCULATE_RESULT})}},"Calculate"),e.result&&u.a.createElement(u.a.Fragment,null,u.a.createElement("hr",null),u.a.createElement("h4",null,"Results"),e.result.splits.map(function(e,t){return u.a.createElement("div",{className:"row",key:t},u.a.createElement("div",{className:"col"},"Person ",t),u.a.createElement("div",{className:"col"},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)))})))}function O(){return u.a.createElement("div",{style:{fontSize:"12px",marginTop:"96px"}},u.a.createElement("hr",null),"Made with <3 by ",u.a.createElement("a",{href:"https://www.victorszeto.com"},"Victor Szeto"))}a(22);var w=document.getElementById("root");i.a.render(u.a.createElement(function(){return u.a.createElement(T,null,function(e){return u.a.createElement("div",{className:"container center"},u.a.createElement("h1",null,"billsplit"),u.a.createElement(g,{people:e.people}),u.a.createElement("hr",null),u.a.createElement(_,e.totals),u.a.createElement(x,{result:e.result}),u.a.createElement(O,null))})},null),w)}},[[10,2,1]]]);
//# sourceMappingURL=main.de537f8f.chunk.js.map