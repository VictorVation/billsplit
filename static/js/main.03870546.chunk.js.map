{"version":3,"sources":["Actions.ts","Reducers.ts","State.tsx","mask.ts","components/CurrencyInput.tsx","views/PersonView.tsx","views/PeopleView.tsx","views/TotalsView.tsx","views/ResultView.tsx","views/FooterView.tsx","index.tsx","App.tsx"],"names":["PersonActions","PeopleActions","TotalsActions","ResultActions","peopleReducer","state","action","type","ADD_PERSON","people","length","Object","toConsumableArray","concat","shares","personTotal","REMOVE_PERSON","slice","INCREMENT_SHARES","DECREMENT_SHARES","CHANGE_SHARE_VALUE","map","item","idx","payload","index","objectSpread","shareIndex","value","newShares","reduce","acc","val","personReducer","reducer","totals","SET_SUBTOTAL","subtotal","SET_GRAND_TOTAL","grandtotal","totalsReducer","result","CALCULATE_RESULT","splits","person","Swal","text","confirmButtonColor","tip","resultReducer","DispatchContext","React","createContext","initialState","DispatchContextProvider","props","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","react_default","a","createElement","Provider","children","mask","decimalSeparator","arguments","undefined","thousandSeparator","prefix","maskedValue","stringVal","String","digits","match","pop","unshift","splice","Number","join","toFixed","split","raw","decimalpos","x","trim","CurrencyInput","id","name","onChangeEvent","_useState","useState","_useState2","setState","className","key","onChange","event","preventDefault","_mask","currentTarget","PersonView","useContext","Fragment","htmlFor","style","fontSize","Intl","NumberFormat","currency","format","cx","shareValue","shareIdx","handleChangeEvent","onClick","e","PeopleView","marginTop","disabled","TotalsView","_props$totals","title","ResultView","FooterView","href","REACT_ROOT","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.03870546.chunk.js","sourcesContent":["export enum PersonActions {\n  INCREMENT_SHARES = \"share.inc\",\n  DECREMENT_SHARES = \"share.dec\",\n  CHANGE_SHARE_VALUE = \"share.change\"\n}\n\nexport enum PeopleActions {\n  ADD_PERSON = \"person.add\",\n  REMOVE_PERSON = \"person.remove\"\n}\n\nexport enum TotalsActions {\n  SET_SUBTOTAL = \"subtotal.set\",\n  SET_GRAND_TOTAL = \"grandtotal.set\"\n}\n\nexport enum ResultActions {\n  CALCULATE_RESULT = \"result.calc\"\n}\n\nexport type Action = {\n  type: PeopleActions | TotalsActions | PersonActions | ResultActions;\n  payload?: {\n    index?: number;\n    shareIndex?: number;\n    value?: number;\n  };\n};\n","import { AppState, PeopleState, TotalsState, ResultState } from \"./State\";\nimport {\n  PeopleActions,\n  TotalsActions,\n  PersonActions,\n  ResultActions,\n  Action\n} from \"./Actions\";\nimport Swal from \"sweetalert2\";\n\nfunction peopleReducer(state: AppState, action: Action): PeopleState {\n  switch (action.type) {\n    case PeopleActions.ADD_PERSON: {\n      if (state.people.length === 30) {\n        return state.people;\n      }\n      return [...state.people, { shares: [0], personTotal: 0 }];\n    }\n    case PeopleActions.REMOVE_PERSON: {\n      if (state.people.length === 2) {\n        return state.people;\n      }\n      return state.people.slice(0, -1);\n    }\n    case PersonActions.INCREMENT_SHARES:\n    case PersonActions.DECREMENT_SHARES:\n    case PersonActions.CHANGE_SHARE_VALUE:\n      return personReducer(state.people, action);\n    default:\n      return state.people;\n  }\n}\n\nfunction personReducer(state: PeopleState, action: Action): PeopleState {\n  switch (action.type) {\n    case PersonActions.INCREMENT_SHARES: {\n      return state.map((item, idx) => {\n        if (\n          action.payload != null &&\n          action.payload.index != null &&\n          idx === action.payload.index\n        ) {\n          return { ...item, shares: item.shares.concat([0]) };\n        }\n        return item;\n      });\n    }\n    case PersonActions.DECREMENT_SHARES: {\n      return state.map((item, idx) => {\n        if (\n          action.payload != null &&\n          action.payload.index != null &&\n          idx === action.payload.index\n        ) {\n          return { ...item, shares: item.shares.slice(0, -1) };\n        }\n        return item;\n      });\n    }\n    case PersonActions.CHANGE_SHARE_VALUE: {\n      return state.map((item, idx) => {\n        if (\n          action.payload != null &&\n          action.payload.shareIndex != null &&\n          action.payload.value != null &&\n          idx === action.payload.index\n        ) {\n          const newShares = item.shares;\n          newShares[action.payload.shareIndex] = action.payload.value;\n          return {\n            ...item,\n            shares: newShares,\n            personTotal: newShares.reduce((acc, val) => acc + val)\n          };\n        }\n        return item;\n      });\n    }\n    default:\n      return state;\n  }\n}\n\nfunction totalsReducer(state: AppState, action: Action): TotalsState {\n  if (action.payload == null) {\n    return state.totals;\n  }\n  switch (action.type) {\n    case TotalsActions.SET_SUBTOTAL: {\n      return { ...state.totals, subtotal: action.payload.value || 0 };\n    }\n    case TotalsActions.SET_GRAND_TOTAL: {\n      return { ...state.totals, grandtotal: action.payload.value || 0 };\n    }\n    default: {\n      return state.totals;\n    }\n  }\n}\n\nfunction resultReducer(state: AppState, action: Action): ResultState | null {\n  switch (action.type) {\n    case ResultActions.CALCULATE_RESULT: {\n      let personTotal = 0;\n      const splits = state.people.map((person, idx) => {\n        personTotal += person.personTotal;\n        return (\n          (person.personTotal / state.totals.subtotal) * state.totals.grandtotal\n        );\n      });\n\n      if (state.totals.subtotal === 0) {\n        Swal({\n          text: \"Enter a Subtotal!\",\n          confirmButtonColor: \"#70d6ff\"\n        });\n        return state.result;\n      }\n      if (state.totals.grandtotal === 0) {\n        Swal({\n          text: \"Enter a Grand Total!\",\n          confirmButtonColor: \"#70d6ff\"\n        });\n        return state.result;\n      }\n      if (personTotal != state.totals.subtotal) {\n        Swal({\n          text: \"Items don't add up to subtotal!\",\n          confirmButtonColor: \"#70d6ff\"\n        });\n        return state.result;\n      }\n      if (splits.reduce((acc, val) => acc + val) != state.totals.grandtotal) {\n        Swal({\n          text: \"Grand Total incorrect!\",\n          confirmButtonColor: \"#70d6ff\"\n        });\n        return state.result;\n      }\n      return {\n        splits,\n        tip: state.totals.grandtotal / state.totals.subtotal - 1\n      };\n    }\n    default: {\n      return state.result;\n    }\n  }\n}\n\nexport default function reducer(state: AppState, action: Action): AppState {\n  return {\n    people: peopleReducer(state, action),\n    totals: totalsReducer(state, action),\n    result: resultReducer(state, action)\n  };\n}\n","import React, { useReducer, createContext } from \"react\";\nimport { Action } from \"./Actions\";\nimport reducer from \"./Reducers\";\nimport { number } from \"prop-types\";\n\nexport type Person = {\n  shares: Array<number>;\n  personTotal: number;\n};\n\nexport type PeopleState = Array<Person>;\n\nexport type TotalsState = {\n  subtotal: number;\n  grandtotal: number;\n};\n\nexport type ResultState = {\n  splits: Array<number>;\n  tip: number;\n};\n\nexport type AppState = {\n  people: PeopleState;\n  totals: TotalsState;\n  result: null | ResultState;\n};\n\nexport const DispatchContext = React.createContext((action: Action) => {});\n\nexport const initialState: AppState = {\n  people: [\n    {\n      shares: [0],\n      personTotal: 0\n    },\n    {\n      shares: [0],\n      personTotal: 0\n    }\n  ],\n  totals: {\n    subtotal: 0,\n    grandtotal: 0\n  },\n  result: null\n};\n\nexport function DispatchContextProvider(props) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <DispatchContext.Provider value={dispatch}>\n      {props.children(state)}\n    </DispatchContext.Provider>\n  );\n}\n","export default function mask(\n  value: number,\n  decimalSeparator: string = \".\",\n  thousandSeparator: string = \",\",\n  prefix: string = \"$\"\n): { value: number; maskedValue: string } {\n  const PRECISION = 2;\n  const MAX_DIGITS = 6 + 2;\n\n  if (value == null) {\n    return { value: 0, maskedValue: `${prefix}0.00` };\n  }\n\n  // if the given value is a Number, let's convert into String to manipulate that\n  const stringVal = String(value);\n\n  if (stringVal.length === 0) {\n    return { value: 0, maskedValue: `${prefix}0.00` };\n  }\n\n  // extract digits. if no digits, fill in a zero.\n  let digits = stringVal.match(/\\d/g) || [\"0\"];\n\n  if (stringVal.length > MAX_DIGITS) {\n    digits.pop();\n  }\n\n  // zero-pad a input\n  while (digits.length <= PRECISION) {\n    digits.unshift(\"0\");\n  }\n\n  // add the decimal separator\n  digits.splice(digits.length - PRECISION, 0, \".\");\n\n  // clean up extraneous digits like leading zeros.\n  digits = Number(digits.join(\"\"))\n    .toFixed(PRECISION)\n    .split(\"\");\n  let raw = Number(digits.join(\"\"));\n\n  // -1 needed to position the decimal separator before the digits.\n  let decimalpos = digits.length - PRECISION - 1;\n\n  // set the final decimal separator\n  digits[decimalpos] = decimalSeparator;\n\n  // add in any thousand separators\n  for (let x = decimalpos - 3; x > 0; x = x - 3) {\n    digits.splice(x, 0, thousandSeparator);\n  }\n\n  // if we have a prefix or suffix, add them in.\n  if (prefix.length > 0) {\n    digits.unshift(prefix);\n  }\n\n  return { value: raw, maskedValue: digits.join(\"\").trim() };\n}\n","import React, { useState } from \"react\";\nimport mask from \"../mask\";\n\ninterface ICurrencyInputProps {\n  onChangeEvent: (number) => void;\n  value: number;\n  name?: string;\n  id?: string;\n}\n\ntype CurrencyInputState = {\n  value: number;\n  maskedValue: string;\n};\n\nexport default function CurrencyInput(props: ICurrencyInputProps) {\n  const { id, name, onChangeEvent, value } = props;\n  const [state, setState] = useState<CurrencyInputState>(mask(value));\n\n  const handleChange = event => {\n    event.preventDefault();\n    let { maskedValue, value } = mask(event.currentTarget.value);\n    setState({ maskedValue, value });\n    onChangeEvent(value);\n  };\n\n  return (\n    <div className=\"col\">\n      <input\n        // selectAllOnFocus={true}\n        key={name}\n        className=\"col\"\n        // onChangeEvent={(_, __, floatVal) => floatVal}\n        // onChange={event => onChangeEvent(event.currentTarget.value)}\n        onChange={handleChange}\n        prefix={\"$\"}\n        value={state.maskedValue}\n        name={name ? name : undefined}\n        id={id ? id : undefined}\n      />\n    </div>\n  );\n}\n","import React, { useContext } from \"react\";\nimport CurrencyInput from \"../components/CurrencyInput\";\nimport { PersonActions } from \"../Actions\";\nimport { default as cx } from \"classnames\";\nimport { DispatchContext, Person } from \"../State\";\n\ninterface IPersonViewProps {\n  idx: number;\n  person: Person;\n}\n\nexport default function PersonView(props: IPersonViewProps) {\n  const { idx, person } = props;\n  const dispatch = useContext(DispatchContext);\n\n  const handleChangeEvent = (shareIndex, value) => {\n    dispatch({\n      type: PersonActions.CHANGE_SHARE_VALUE,\n      payload: { index: idx, shareIndex, value }\n    });\n  };\n\n  return (\n    <>\n      <label htmlFor={`person-${idx}`}>Person {idx + 1}</label>\n      {person.shares.length > 1 && (\n        <span style={{ fontSize: \"12px\" }}>\n          {\" · \"}\n          Total:{\" \"}\n          {new Intl.NumberFormat(\"en-US\", {\n            style: \"currency\",\n            currency: \"USD\"\n          }).format(person.personTotal)}\n        </span>\n      )}\n      <div className={cx(\"row\")}>\n        {person.shares.map((shareValue, shareIdx) => {\n          return (\n            <CurrencyInput\n              key={shareIdx}\n              onChangeEvent={value => handleChangeEvent(shareIdx, value)}\n              value={shareValue}\n              name={shareIdx === 0 ? `person-${idx}` : undefined}\n              id={shareIdx === 0 ? `person-${idx}` : undefined}\n            />\n          );\n        })}\n        {person.shares.length > 1 && (\n          <button\n            className=\"col-1\"\n            onClick={e => {\n              e.preventDefault();\n              dispatch({\n                type: PersonActions.DECREMENT_SHARES,\n                payload: { index: props.idx }\n              });\n            }}\n          >\n            Remove Item\n          </button>\n        )}\n        {person.shares.length <= 8 && (\n          <button\n            className=\"col-1\"\n            onClick={e => {\n              e.preventDefault();\n              dispatch({\n                type: PersonActions.INCREMENT_SHARES,\n                payload: { index: props.idx }\n              });\n            }}\n          >\n            Add Item\n          </button>\n        )}\n      </div>\n    </>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { PeopleActions } from \"../Actions\";\nimport PersonView from \"./PersonView\";\nimport { DispatchContext, PeopleState } from \"../State\";\nimport { default as cx } from \"classnames\";\n\ninterface IPeopleViewProps {\n  people: PeopleState;\n}\n\nexport default function PeopleView(props: IPeopleViewProps) {\n  const dispatch = useContext(DispatchContext);\n\n  return (\n    <>\n      <div>\n        {props.people.map((person, idx) => (\n          <PersonView person={person} idx={idx} key={idx} />\n        ))}\n      </div>\n      <div className={cx(\"row\")} style={{ marginTop: \"32px\" }}>\n        {props.people.length < 30 && (\n          <button\n            onClick={event => {\n              event.preventDefault();\n              dispatch({ type: PeopleActions.ADD_PERSON });\n            }}\n            className={cx(\"center\", \"col\", \"background-green\")}\n          >\n            Add Person\n          </button>\n        )}\n        {props.people.length > 2 && (\n          <button\n            onClick={event => {\n              event.preventDefault();\n              dispatch({ type: PeopleActions.REMOVE_PERSON });\n            }}\n            className={cx(\"center\", \"col\", \"background-red\")}\n            disabled={props.people.length === 2}\n          >\n            Remove Person\n          </button>\n        )}\n      </div>\n    </>\n  );\n}\n","import React, { useContext } from \"react\";\nimport CurrencyInput from \"../components/CurrencyInput\";\nimport { default as cx } from \"classnames\";\nimport { DispatchContext, TotalsState } from \"../State\";\nimport { TotalsActions } from \"../Actions\";\n\nexport default function TotalsView(props: { totals: TotalsState }) {\n  const dispatch = useContext(DispatchContext);\n  const { grandtotal, subtotal } = props.totals;\n\n  return (\n    <>\n      <div className={cx(\"row\")}>\n        <div className={cx(\"col\")}>\n          <label htmlFor=\"subtotal\">\n            Subtotal <abbr title=\"Sum of the prices of all items\">[?]</abbr>\n          </label>\n          <CurrencyInput\n            onChangeEvent={value => {\n              dispatch({\n                type: TotalsActions.SET_SUBTOTAL,\n                payload: { value }\n              });\n            }}\n            value={subtotal}\n            name=\"subtotal\"\n            id=\"subtotal\"\n          />\n        </div>\n      </div>\n      <div className={cx(\"row\")}>\n        <div className={cx(\"col\")}>\n          <label htmlFor=\"grandTotal\">\n            Grand Total{\" \"}\n            <abbr title=\"Sum of all items, plus tax and tip\">[?]</abbr>\n          </label>\n          <CurrencyInput\n            onChangeEvent={value => {\n              dispatch({\n                type: TotalsActions.SET_GRAND_TOTAL,\n                payload: { value }\n              });\n            }}\n            value={grandtotal}\n            name=\"grandTotal\"\n            id=\"grandTotal\"\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { ResultActions } from \"../Actions\";\nimport { DispatchContext, ResultState } from \"../State\";\nimport { default as cx } from \"classnames\";\n\ninterface IResultViewProps {\n  result: ResultState | null;\n}\n\nexport default function ResultView(props: IResultViewProps) {\n  const dispatch = useContext(DispatchContext);\n\n  return (\n    <>\n      <button\n        className={cx(\"background-blue\")}\n        onClick={() => dispatch({ type: ResultActions.CALCULATE_RESULT })}\n      >\n        Calculate\n      </button>\n      {props.result && (\n        <>\n          <hr />\n          <h4>Results</h4>\n\n          {props.result.splits.map((split, idx) => (\n            <div className=\"row\" key={idx}>\n              <div className=\"col\">Person {idx + 1}</div>\n              <div className=\"col\">\n                {new Intl.NumberFormat(\"en-US\", {\n                  style: \"currency\",\n                  currency: \"USD\"\n                }).format(split)}\n              </div>\n            </div>\n          ))}\n        </>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\n\nexport default function FooterView() {\n  return (\n    <div style={{ fontSize: \"12px\", marginTop: \"48px\" }}>\n      <hr />\n      Made with &lt;3 by <a href=\"https://www.victorszeto.com\">Victor Szeto</a>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst REACT_ROOT = document.getElementById(\"root\");\n\nReactDOM.render(<App />, REACT_ROOT);\n\nif (module[\"hot\"]) {\n  module[\"hot\"].accept(\"./App\", () => {\n    const NextApp: typeof App = require(\"./App\").default;\n    ReactDOM.render(<NextApp />, REACT_ROOT);\n  });\n}\n","import React from \"react\";\nimport { AppState, DispatchContextProvider } from \"./State\";\nimport PeopleView from \"./views/PeopleView\";\nimport TotalsView from \"./views/TotalsView\";\nimport ResultView from \"./views/ResultView\";\nimport FooterView from \"./views/FooterView\";\nimport \"./App.css\";\n\nexport default function App() {\n  return (\n    <DispatchContextProvider>\n      {(state: AppState) => (\n        <div className=\"container center\">\n          <h1>billsplit</h1>\n          <PeopleView people={state.people} />\n          <hr />\n          <TotalsView totals={state.totals} />\n          <ResultView result={state.result} />\n          <FooterView />\n        </div>\n      )}\n    </DispatchContextProvider>\n  );\n}\n"],"sourceRoot":""}