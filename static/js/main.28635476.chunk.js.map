{"version":3,"sources":["Actions.ts","Reducers.ts","State.tsx","views/FooterView.tsx","components/InkButton.tsx","mask.ts","components/CurrencyInput.tsx","views/PersonView.tsx","views/ItemsView.tsx","views/ResultView.tsx","views/TotalsView.tsx","index.tsx","App.tsx"],"names":["PersonActions","PeopleActions","TotalsActions","ResultActions","peopleReducer","state","action","type","ADD_PERSON","people","length","Object","toConsumableArray","concat","shares","personTotal","REMOVE_PERSON","slice","INCREMENT_SHARES","DECREMENT_SHARES","CHANGE_SHARE_VALUE","map","item","idx","payload","index","objectSpread","shareIndex","value","newShares","reduce","acc","val","personReducer","reducer","totals","SET_SUBTOTAL","subtotal","SET_GRAND_TOTAL","grandtotal","totalsReducer","result","CALCULATE_RESULT","totalOfAllItems","splits","person","percentOfGrandTotal","personalTotal","amountOwed","Swal","text","confirmButtonColor","toFixed","split","results","resultReducer","DispatchContext","React","createContext","initialState","DispatchContextProvider","props","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","react_default","a","createElement","Provider","children","FooterView","style","fontSize","marginTop","href","InkButton","_ref","className","onClick","disabled","disableInk","undefined","ink_default","mask","decimalSeparator","arguments","thousandSeparator","prefix","maskedValue","stringVal","String","digits","match","pop","unshift","splice","Number","join","raw","decimalpos","x","trim","CurrencyInput","id","name","onChangeEvent","_useState","useState","_useState2","setState","key","onChange","event","preventDefault","_mask","currentTarget","PersonView","useContext","isMobile","navigator","userAgent","Fragment","htmlFor","Intl","NumberFormat","currency","format","cx","shareValue","shareIdx","handleChangeEvent","e","ItemsView","USD","ResultView","borderBottom","fontWeight","TotalsView","_props$totals","REACT_ROOT","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.28635476.chunk.js","sourcesContent":["export enum PersonActions {\n  INCREMENT_SHARES = \"share.inc\",\n  DECREMENT_SHARES = \"share.dec\",\n  CHANGE_SHARE_VALUE = \"share.change\"\n}\n\nexport enum PeopleActions {\n  ADD_PERSON = \"person.add\",\n  REMOVE_PERSON = \"person.remove\"\n}\n\nexport enum TotalsActions {\n  SET_SUBTOTAL = \"subtotal.set\",\n  SET_GRAND_TOTAL = \"grandtotal.set\"\n}\n\nexport enum ResultActions {\n  CALCULATE_RESULT = \"result.calc\"\n}\n\nexport type Action = {\n  type: PeopleActions | TotalsActions | PersonActions | ResultActions;\n  payload?: {\n    index?: number;\n    shareIndex?: number;\n    value?: number;\n  };\n};\n","import {\n  Action,\n  PeopleActions,\n  PersonActions,\n  ResultActions,\n  TotalsActions\n} from \"./Actions\";\nimport { AppState, PeopleState, ResultState, TotalsState } from \"./State\";\n\nimport Swal from \"sweetalert2\";\n\nfunction peopleReducer(state: AppState, action: Action): PeopleState {\n  switch (action.type) {\n    case PeopleActions.ADD_PERSON: {\n      if (state.people.length === 30) {\n        return state.people;\n      }\n      return [...state.people, { shares: [0], personTotal: 0 }];\n    }\n    case PeopleActions.REMOVE_PERSON: {\n      if (state.people.length === 2) {\n        return state.people;\n      }\n      return state.people.slice(0, -1);\n    }\n    case PersonActions.INCREMENT_SHARES:\n    case PersonActions.DECREMENT_SHARES:\n    case PersonActions.CHANGE_SHARE_VALUE:\n      return personReducer(state.people, action);\n    default:\n      return state.people;\n  }\n}\n\nfunction personReducer(state: PeopleState, action: Action): PeopleState {\n  switch (action.type) {\n    case PersonActions.INCREMENT_SHARES: {\n      return state.map((item, idx) => {\n        if (\n          action.payload != null &&\n          action.payload.index != null &&\n          idx === action.payload.index\n        ) {\n          return { ...item, shares: item.shares.concat([0]) };\n        }\n        return item;\n      });\n    }\n    case PersonActions.DECREMENT_SHARES: {\n      return state.map((item, idx) => {\n        if (\n          action.payload != null &&\n          action.payload.index != null &&\n          idx === action.payload.index\n        ) {\n          return { ...item, shares: item.shares.slice(0, -1) };\n        }\n        return item;\n      });\n    }\n    case PersonActions.CHANGE_SHARE_VALUE: {\n      return state.map((item, idx) => {\n        if (\n          action.payload != null &&\n          action.payload.shareIndex != null &&\n          action.payload.value != null &&\n          idx === action.payload.index\n        ) {\n          const newShares = item.shares;\n          newShares[action.payload.shareIndex] = action.payload.value;\n          return {\n            ...item,\n            shares: newShares,\n            personTotal: newShares.reduce((acc, val) => acc + val)\n          };\n        }\n        return item;\n      });\n    }\n    default:\n      return state;\n  }\n}\n\nfunction totalsReducer(state: AppState, action: Action): TotalsState {\n  if (action.payload == null) {\n    return state.totals;\n  }\n  switch (action.type) {\n    case TotalsActions.SET_SUBTOTAL: {\n      return { ...state.totals, subtotal: action.payload.value || 0 };\n    }\n    case TotalsActions.SET_GRAND_TOTAL: {\n      return { ...state.totals, grandtotal: action.payload.value || 0 };\n    }\n    default: {\n      return state.totals;\n    }\n  }\n}\n\nfunction resultReducer(state: AppState, action: Action): ResultState | null {\n  switch (action.type) {\n    case ResultActions.CALCULATE_RESULT: {\n      let totalOfAllItems = 0;\n      const splits = state.people.map((person, idx) => {\n        const percentOfGrandTotal = person.personTotal / state.totals.subtotal;\n        totalOfAllItems += person.personTotal;\n        return {\n          personalTotal: person.personTotal,\n          percentOfGrandTotal,\n          amountOwed: percentOfGrandTotal * state.totals.grandtotal\n        };\n      });\n\n      if (state.totals.subtotal === 0) {\n        Swal({\n          text: \"Enter a Subtotal!\",\n          confirmButtonColor: \"#70d6ff\"\n        });\n        return state.result;\n      }\n      if (state.totals.grandtotal === 0) {\n        Swal({\n          text: \"Enter a Grand Total!\",\n          confirmButtonColor: \"#70d6ff\"\n        });\n        return state.result;\n      }\n      if (totalOfAllItems.toFixed(2) != state.totals.subtotal.toFixed(2)) {\n        debugger;\n        Swal({\n          text: \"Items don't add up to subtotal!\",\n          confirmButtonColor: \"#70d6ff\"\n        });\n        return state.result;\n      }\n      if (\n        splits.reduce((acc, split) => acc + split.amountOwed, 0).toFixed(2) !=\n        state.totals.grandtotal.toFixed(2)\n      ) {\n        Swal({\n          text: \"Grand Total incorrect!\",\n          confirmButtonColor: \"#70d6ff\"\n        });\n        return state.result;\n      }\n      return {\n        grandtotal: state.totals.grandtotal,\n        subtotal: state.totals.subtotal,\n        results: splits\n      };\n    }\n    default: {\n      return state.result;\n    }\n  }\n}\n\nexport default function reducer(state: AppState, action: Action): AppState {\n  return {\n    people: peopleReducer(state, action),\n    totals: totalsReducer(state, action),\n    result: resultReducer(state, action)\n  };\n}\n3;\n","import React, { createContext, useReducer } from \"react\";\n\nimport { Action } from \"./Actions\";\nimport reducer from \"./Reducers\";\n\nexport type Person = {\n  shares: Array<number>;\n  personTotal: number;\n};\n\nexport type PeopleState = Array<Person>;\n\nexport type TotalsState = {\n  subtotal: number;\n  grandtotal: number;\n};\n\nexport type SplitResult = {\n  amountOwed: number;\n  percentOfGrandTotal: number;\n  personalTotal: number;\n};\n\nexport type ResultState = {\n  results: SplitResult[];\n  subtotal: number;\n  grandtotal: number;\n};\n\nexport type AppState = {\n  people: PeopleState;\n  totals: TotalsState;\n  result: null | ResultState;\n};\n\nexport const DispatchContext = React.createContext((action: Action) => {});\n\nexport const initialState: AppState = {\n  people: [\n    {\n      shares: [0],\n      personTotal: 0\n    },\n    {\n      shares: [0],\n      personTotal: 0\n    }\n  ],\n  totals: {\n    subtotal: 0,\n    grandtotal: 0\n  },\n  result: null\n};\n\nexport function DispatchContextProvider(props) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <DispatchContext.Provider value={dispatch}>\n      {props.children(state)}\n    </DispatchContext.Provider>\n  );\n}\n","import React from \"react\";\n\nexport default function FooterView() {\n  return (\n    <div style={{ fontSize: \"12px\", marginTop: \"48px\" }}>\n      <hr />\n      Made with &lt;3 by <a href=\"https://www.victorszeto.com\">Victor Szeto</a>\n    </div>\n  );\n}\n","import React, { ReactNode, ReactNodeArray } from \"react\";\n\nimport Ink from \"react-ink\";\n\ninterface IInkButtonProps {\n  children?: ReactNode | ReactNodeArray;\n  disabled?: boolean;\n  disableInk?: boolean;\n  onClick?: (any) => void;\n  className?: string;\n  type?: string;\n}\n\nexport default function InkButton({\n  children,\n  className,\n  onClick,\n  type,\n  disabled,\n  disableInk\n}: IInkButtonProps) {\n  return (\n    <button\n      onClick={onClick != null ? onClick : undefined}\n      className={className != null ? className : undefined}\n      disabled={disabled != null ? disabled : undefined}\n      type={type != null ? type : undefined}\n    >\n      {children}\n      {!disableInk && <Ink />}\n    </button>\n  );\n}\n","export default function mask(\n  value: number,\n  decimalSeparator: string = \".\",\n  thousandSeparator: string = \",\",\n  prefix: string = \"$\"\n): { value: number; maskedValue: string } {\n  const PRECISION = 2;\n  const MAX_DIGITS = 6 + 2;\n\n  if (value == null) {\n    return { value: 0, maskedValue: `${prefix}0.00` };\n  }\n\n  // if the given value is a Number, let's convert into String to manipulate that\n  const stringVal = String(value);\n\n  if (stringVal.length === 0) {\n    return { value: 0, maskedValue: `${prefix}0.00` };\n  }\n\n  // extract digits. if no digits, fill in a zero.\n  let digits = stringVal.match(/\\d/g) || [\"0\"];\n\n  if (stringVal.length > MAX_DIGITS) {\n    digits.pop();\n  }\n\n  // zero-pad a input\n  while (digits.length <= PRECISION) {\n    digits.unshift(\"0\");\n  }\n\n  // add the decimal separator\n  digits.splice(digits.length - PRECISION, 0, \".\");\n\n  // clean up extraneous digits like leading zeros.\n  digits = Number(digits.join(\"\"))\n    .toFixed(PRECISION)\n    .split(\"\");\n  let raw = Number(digits.join(\"\"));\n\n  // -1 needed to position the decimal separator before the digits.\n  let decimalpos = digits.length - PRECISION - 1;\n\n  // set the final decimal separator\n  digits[decimalpos] = decimalSeparator;\n\n  // add in any thousand separators\n  for (let x = decimalpos - 3; x > 0; x = x - 3) {\n    digits.splice(x, 0, thousandSeparator);\n  }\n\n  // if we have a prefix or suffix, add them in.\n  if (prefix.length > 0) {\n    digits.unshift(prefix);\n  }\n\n  return { value: raw, maskedValue: digits.join(\"\").trim() };\n}\n","import React, { useState } from \"react\";\n\nimport mask from \"../mask\";\n\ninterface ICurrencyInputProps {\n  onChangeEvent: (number) => void;\n  value: number;\n  name?: string;\n  id?: string;\n}\n\ntype CurrencyInputState = {\n  value: number;\n  maskedValue: string;\n};\n\nexport default function CurrencyInput(props: ICurrencyInputProps) {\n  const { id, name, onChangeEvent, value } = props;\n  const [state, setState] = useState<CurrencyInputState>(mask(value));\n\n  const handleChange = event => {\n    event.preventDefault();\n    let { maskedValue, value } = mask(event.currentTarget.value);\n    setState({ maskedValue, value });\n    onChangeEvent(value);\n  };\n\n  return (\n    <div className=\"col\">\n      <input\n        // selectAllOnFocus={true}\n        key={name}\n        className=\"col\"\n        // onChangeEvent={(_, __, floatVal) => floatVal}\n        // onChange={event => onChangeEvent(event.currentTarget.value)}\n        onChange={handleChange}\n        prefix={\"$\"}\n        value={state.maskedValue}\n        name={name ? name : undefined}\n        id={id ? id : undefined}\n      />\n    </div>\n  );\n}\n","import { DispatchContext, Person } from \"../State\";\nimport React, { useContext } from \"react\";\n\nimport CurrencyInput from \"../components/CurrencyInput\";\nimport InkButton from \"../components/InkButton\";\nimport { PersonActions } from \"../Actions\";\nimport { default as cx } from \"classnames\";\n\ninterface IPersonViewProps {\n  idx: number;\n  person: Person;\n}\n\nexport default function PersonView(props: IPersonViewProps) {\n  const { idx, person } = props;\n  const dispatch = useContext(DispatchContext);\n\n  const isMobile = navigator.userAgent.match(\"Mobi\");\n\n  const handleChangeEvent = (shareIndex, value) => {\n    dispatch({\n      type: PersonActions.CHANGE_SHARE_VALUE,\n      payload: { index: idx, shareIndex, value }\n    });\n  };\n\n  return (\n    <>\n      <label htmlFor={`person-${idx}`}>Person {idx + 1}</label>\n      {person.shares.length > 1 && (\n        <span style={{ fontSize: \"12px\" }}>\n          {`· Total: ${new Intl.NumberFormat(\"en-US\", {\n            style: \"currency\",\n            currency: \"USD\"\n          }).format(person.personTotal)}`}\n        </span>\n      )}\n      <div className={cx(\"row\")}>\n        {person.shares.map((shareValue, shareIdx) => {\n          return (\n            <CurrencyInput\n              key={shareIdx}\n              onChangeEvent={value => handleChangeEvent(shareIdx, value)}\n              value={shareValue}\n              name={shareIdx === 0 ? `person-${idx}` : undefined}\n              id={shareIdx === 0 ? `person-${idx}` : undefined}\n            />\n          );\n        })}\n        {person.shares.length > 1 && (\n          <InkButton\n            className=\"col-1\"\n            onClick={e => {\n              e.preventDefault();\n              dispatch({\n                type: PersonActions.DECREMENT_SHARES,\n                payload: { index: props.idx }\n              });\n            }}\n          >\n            {isMobile ? \"Remove Item\" : \"-\"}\n          </InkButton>\n        )}\n        {person.shares.length <= 8 && (\n          <InkButton\n            className=\"col-1\"\n            onClick={e => {\n              e.preventDefault();\n              dispatch({\n                type: PersonActions.INCREMENT_SHARES,\n                payload: { index: props.idx }\n              });\n            }}\n          >\n            {isMobile ? \"Add Item\" : \"+\"}\n          </InkButton>\n        )}\n      </div>\n    </>\n  );\n}\n","import { DispatchContext, PeopleState } from \"../State\";\nimport React, { useContext } from \"react\";\n\nimport InkButton from \"../components/InkButton\";\nimport { PeopleActions } from \"../Actions\";\nimport PersonView from \"./PersonView\";\nimport { default as cx } from \"classnames\";\n\ninterface IPeopleViewProps {\n  people: PeopleState;\n}\n\nexport default function ItemsView(props: IPeopleViewProps) {\n  const dispatch = useContext(DispatchContext);\n\n  return (\n    <>\n      <h4>Items</h4>\n      <div>\n        {props.people.map((person, idx) => (\n          <PersonView person={person} idx={idx} key={idx} />\n        ))}\n      </div>\n      <div className={cx(\"row\")} style={{ marginTop: \"32px\" }}>\n        {props.people.length < 30 && (\n          <InkButton\n            onClick={event => {\n              event.preventDefault();\n              dispatch({ type: PeopleActions.ADD_PERSON });\n            }}\n            className={cx(\"center\", \"col\", \"background-green\")}\n          >\n            Add Person\n          </InkButton>\n        )}\n        {props.people.length > 2 && (\n          <InkButton\n            onClick={event => {\n              event.preventDefault();\n              dispatch({ type: PeopleActions.REMOVE_PERSON });\n            }}\n            className={cx(\"center\", \"col\", \"background-red\")}\n            disabled={props.people.length === 2}\n          >\n            Remove Person\n          </InkButton>\n        )}\n      </div>\n    </>\n  );\n}\n","import { DispatchContext, ResultState } from \"../State\";\nimport React, { useContext } from \"react\";\n\nimport InkButton from \"../components/InkButton\";\nimport { ResultActions } from \"../Actions\";\nimport { default as cx } from \"classnames\";\n\ninterface IResultViewProps {\n  result: ResultState | null;\n}\n\nconst USD = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\"\n});\nexport default function ResultView(props: IResultViewProps) {\n  const dispatch = useContext(DispatchContext);\n  const result = props.result;\n  return (\n    <>\n      <InkButton\n        className={cx(\"background-blue\")}\n        onClick={() =>\n          dispatch({\n            type: ResultActions.CALCULATE_RESULT\n          })\n        }\n        type=\"submit\"\n      >\n        Calculate\n      </InkButton>\n      {result && (\n        <>\n          <hr />\n          <h4>Results</h4>\n          <div className=\"row\" style={{ borderBottom: \"1px solid #111\" }}>\n            <div className=\"col\">\n              <h6>Person</h6>\n            </div>\n            <div className=\"col\">\n              <h6>Amount Owed</h6>\n            </div>\n            <div className=\"col\">\n              <h6>Breakdown</h6>\n            </div>\n          </div>\n          {result.results.map(\n            ({ personalTotal, percentOfGrandTotal, amountOwed }, idx) => (\n              <div className=\"row\" key={idx}>\n                <div className=\"col\">Person {idx + 1}</div>\n                <div className=\"col\" style={{ fontWeight: \"bold\" }}>\n                  {USD.format(amountOwed)}\n                </div>\n                <div className=\"col\">\n                  {USD.format(personalTotal)}\n                  <span style={{ fontSize: \"12px\" }}> (Items)</span>\n                  {\" + \"}\n                  {USD.format(\n                    percentOfGrandTotal * (result.grandtotal - result.subtotal)\n                  )}\n                  <span style={{ fontSize: \"12px\" }}> (Tax & Tip)</span>\n                </div>\n              </div>\n            )\n          )}\n        </>\n      )}\n    </>\n  );\n}\n","import { DispatchContext, TotalsState } from \"../State\";\nimport React, { useContext } from \"react\";\n\nimport CurrencyInput from \"../components/CurrencyInput\";\nimport { TotalsActions } from \"../Actions\";\nimport { default as cx } from \"classnames\";\n\nexport default function TotalsView(props: { totals: TotalsState }) {\n  const dispatch = useContext(DispatchContext);\n  const { grandtotal, subtotal } = props.totals;\n\n  return (\n    <>\n      <h4 className={cx(\"row\")}>Totals</h4>\n      <div className={cx(\"row\")}>\n        <div className={cx(\"col\")}>\n          <label htmlFor=\"subtotal\">Subtotal</label>\n          <span style={{ fontSize: \"12px\" }}>\n            {\"· \"}Sum of the prices of all items\n          </span>\n          <CurrencyInput\n            onChangeEvent={value => {\n              dispatch({\n                type: TotalsActions.SET_SUBTOTAL,\n                payload: { value }\n              });\n            }}\n            value={subtotal}\n            name=\"subtotal\"\n            id=\"subtotal\"\n          />\n        </div>\n      </div>\n      <div className={cx(\"row\")}>\n        <div className={cx(\"col\")}>\n          <label htmlFor=\"grandTotal\">Grand Total</label>\n          <span style={{ fontSize: \"12px\" }}>\n            {\"· \"}Entire amount paid, including tax and tip\n          </span>\n          <CurrencyInput\n            onChangeEvent={value => {\n              dispatch({\n                type: TotalsActions.SET_GRAND_TOTAL,\n                payload: { value }\n              });\n            }}\n            value={grandtotal}\n            name=\"grandTotal\"\n            id=\"grandTotal\"\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","import \"./index.css\";\n\nimport App from \"./App\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst REACT_ROOT = document.getElementById(\"root\");\n\nReactDOM.render(<App />, REACT_ROOT);\n\nif (module[\"hot\"]) {\n  module[\"hot\"].accept(\"./App\", () => {\n    const NextApp: typeof App = require(\"./App\").default;\n    ReactDOM.render(<NextApp />, REACT_ROOT);\n  });\n}\n","import \"./App.css\";\n\nimport { AppState, DispatchContextProvider } from \"./State\";\n\nimport FooterView from \"./views/FooterView\";\nimport ItemsView from \"./views/ItemsView\";\nimport React from \"react\";\nimport ResultView from \"./views/ResultView\";\nimport TotalsView from \"./views/TotalsView\";\n\nexport default function App() {\n  return (\n    <DispatchContextProvider>\n      {(state: AppState) => (\n        <div className=\"container center\">\n          <h1>billsplit</h1>\n          <ItemsView people={state.people} />\n          <hr />\n          <TotalsView totals={state.totals} />\n          <ResultView result={state.result} />\n          <FooterView />\n        </div>\n      )}\n    </DispatchContextProvider>\n  );\n}\n"],"sourceRoot":""}