(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n,l,r,o,c=a(0),u=a.n(c),s=a(6),i=a.n(s),p=(a(14),a(4)),m=a(2),d=a(7);!function(e){e.INCREMENT_SHARES="share.inc",e.DECREMENT_SHARES="share.dec",e.CHANGE_SHARE_VALUE="share.change"}(n||(n={})),function(e){e.ADD_PERSON="person.add",e.REMOVE_PERSON="person.remove"}(l||(l={})),function(e){e.SET_SUBTOTAL="subtotal.set",e.SET_GRAND_TOTAL="grandtotal.set"}(r||(r={})),function(e){e.CALCULATE_RESULT="result.calc"}(o||(o={}));var E=a(3),f=a.n(E);function v(e,t){switch(t.type){case l.ADD_PERSON:return 30===e.people.length?e.people:Object(d.a)(e.people).concat([{shares:[0],personTotal:0}]);case l.REMOVE_PERSON:return 2===e.people.length?e.people:e.people.slice(0,-1);case n.INCREMENT_SHARES:case n.DECREMENT_SHARES:case n.CHANGE_SHARE_VALUE:return function(e,t){switch(t.type){case n.INCREMENT_SHARES:return e.map(function(e,a){return null!=t.payload&&null!=t.payload.index&&a===t.payload.index?Object(m.a)({},e,{shares:e.shares.concat([0])}):e});case n.DECREMENT_SHARES:return e.map(function(e,a){return null!=t.payload&&null!=t.payload.index&&a===t.payload.index?Object(m.a)({},e,{shares:e.shares.slice(0,-1)}):e});case n.CHANGE_SHARE_VALUE:return e.map(function(e,a){if(null!=t.payload&&null!=t.payload.shareIndex&&null!=t.payload.value&&a===t.payload.index){var n=e.shares;return n[t.payload.shareIndex]=t.payload.value,Object(m.a)({},e,{shares:n,personTotal:n.reduce(function(e,t){return e+t})})}return e});default:return e}}(e.people,t);default:return e.people}}function h(e,t){return{people:v(e,t),totals:function(e,t){if(null==t.payload)return e.totals;switch(t.type){case r.SET_SUBTOTAL:return Object(m.a)({},e.totals,{subtotal:t.payload.value||0});case r.SET_GRAND_TOTAL:return Object(m.a)({},e.totals,{grandtotal:t.payload.value||0});default:return e.totals}}(e,t),result:function(e,t){switch(t.type){case o.CALCULATE_RESULT:var a=0,n=e.people.map(function(t,n){return a+=t.personTotal,t.personTotal/e.totals.subtotal*e.totals.grandtotal});return 0===e.totals.subtotal?(f()({text:"Enter a Subtotal!",confirmButtonColor:"#70d6ff"}),e.result):0===e.totals.grandtotal?(f()({text:"Enter a Grand Total!",confirmButtonColor:"#70d6ff"}),e.result):a!=e.totals.subtotal?(f()({text:"Items don't add up to subtotal!",confirmButtonColor:"#70d6ff"}),e.result):n.reduce(function(e,t){return e+t})!=e.totals.grandtotal?(f()({text:"Grand Total incorrect!",confirmButtonColor:"#70d6ff"}),e.result):{splits:n,tip:e.totals.grandtotal/e.totals.subtotal-1};default:return e.result}}(e,t)}}var b=u.a.createContext(function(e){}),S={people:[{shares:[0],personTotal:0},{shares:[0],personTotal:0}],totals:{subtotal:0,grandtotal:0},result:null};function g(e){var t=Object(c.useReducer)(h,S),a=Object(p.a)(t,2),n=a[0],l=a[1];return u.a.createElement(b.Provider,{value:l},e.children(n))}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"$";if(null==e)return{value:0,maskedValue:"".concat(n,"0.00")};var l=String(e);if(0===l.length)return{value:0,maskedValue:"".concat(n,"0.00")};var r=l.match(/\d/g)||["0"];for(l.length>8&&r.pop();r.length<=2;)r.unshift("0");r.splice(r.length-2,0,"."),r=Number(r.join("")).toFixed(2).split("");var o=Number(r.join("")),c=r.length-2-1;r[c]=t;for(var u=c-3;u>0;u-=3)r.splice(u,0,a);return n.length>0&&r.unshift(n),{value:o,maskedValue:r.join("").trim()}}function y(e){var t=e.id,a=e.name,n=e.onChangeEvent,l=e.value,r=Object(c.useState)(T(l)),o=Object(p.a)(r,2),s=o[0],i=o[1];return u.a.createElement("div",{className:"col"},u.a.createElement("input",{key:a,className:"col",onChange:function(e){e.preventDefault();var t=T(e.currentTarget.value),a=t.maskedValue,l=t.value;i({maskedValue:a,value:l}),n(l)},prefix:"$",value:s.maskedValue,name:a||void 0,id:t||void 0}))}var N=a(1),A=a.n(N);function R(e){var t=e.idx,a=e.person,l=Object(c.useContext)(b);return u.a.createElement(u.a.Fragment,null,u.a.createElement("label",{htmlFor:"person-".concat(t)},"Person ",t+1),a.shares.length>1&&u.a.createElement("span",{style:{fontSize:"12px"}}," \xb7 ","Total:"," ",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a.personTotal)),u.a.createElement("div",{className:A()("row")},a.shares.map(function(e,a){return u.a.createElement(y,{key:a,onChangeEvent:function(e){return function(e,a){l({type:n.CHANGE_SHARE_VALUE,payload:{index:t,shareIndex:e,value:a}})}(a,e)},value:e,name:0===a?"person-".concat(t):void 0,id:0===a?"person-".concat(t):void 0})}),a.shares.length>1&&u.a.createElement("button",{className:"col-1",onClick:function(t){t.preventDefault(),l({type:n.DECREMENT_SHARES,payload:{index:e.idx}})}},"Remove Item"),a.shares.length<=8&&u.a.createElement("button",{className:"col-1",onClick:function(t){t.preventDefault(),l({type:n.INCREMENT_SHARES,payload:{index:e.idx}})}},"Add Item")))}function C(e){var t=Object(c.useContext)(b);return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,e.people.map(function(e,t){return u.a.createElement(R,{person:e,idx:t,key:t})})),u.a.createElement("div",{className:A()("row"),style:{marginTop:"32px"}},e.people.length<30&&u.a.createElement("button",{onClick:function(e){e.preventDefault(),t({type:l.ADD_PERSON})},className:A()("center","col","background-green")},"Add Person"),e.people.length>2&&u.a.createElement("button",{onClick:function(e){e.preventDefault(),t({type:l.REMOVE_PERSON})},className:A()("center","col","background-red"),disabled:2===e.people.length},"Remove Person")))}function _(e){var t=Object(c.useContext)(b),a=e.totals,n=a.grandtotal,l=a.subtotal;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:A()("row")},u.a.createElement("div",{className:A()("col")},u.a.createElement("label",{htmlFor:"subtotal"},"Subtotal ",u.a.createElement("abbr",{title:"Sum of the prices of all items"},"[?]")),u.a.createElement(y,{onChangeEvent:function(e){t({type:r.SET_SUBTOTAL,payload:{value:e}})},value:l,name:"subtotal",id:"subtotal"}))),u.a.createElement("div",{className:A()("row")},u.a.createElement("div",{className:A()("col")},u.a.createElement("label",{htmlFor:"grandTotal"},"Grand Total"," ",u.a.createElement("abbr",{title:"Sum of all items, plus tax and tip"},"[?]")),u.a.createElement(y,{onChangeEvent:function(e){t({type:r.SET_GRAND_TOTAL,payload:{value:e}})},value:n,name:"grandTotal",id:"grandTotal"}))))}function x(e){var t=Object(c.useContext)(b);return u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{className:A()("background-blue"),onClick:function(){return t({type:o.CALCULATE_RESULT})}},"Calculate"),e.result&&u.a.createElement(u.a.Fragment,null,u.a.createElement("hr",null),u.a.createElement("h4",null,"Results"),e.result.splits.map(function(e,t){return u.a.createElement("div",{className:"row",key:t},u.a.createElement("div",{className:"col"},"Person ",t+1),u.a.createElement("div",{className:"col"},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)))})))}function O(){return u.a.createElement("div",{style:{fontSize:"12px",marginTop:"48px"}},u.a.createElement("hr",null),"Made with <3 by ",u.a.createElement("a",{href:"https://www.victorszeto.com"},"Victor Szeto"))}a(16);var w=document.getElementById("root");i.a.render(u.a.createElement(function(){return u.a.createElement(g,null,function(e){return u.a.createElement("div",{className:"container center"},u.a.createElement("h1",null,"billsplit"),u.a.createElement(C,{people:e.people}),u.a.createElement("hr",null),u.a.createElement(_,{totals:e.totals}),u.a.createElement(x,{result:e.result}),u.a.createElement(O,null))})},null),w)},8:function(e,t,a){e.exports=a(18)}},[[8,2,1]]]);
//# sourceMappingURL=main.03870546.chunk.js.map