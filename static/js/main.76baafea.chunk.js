(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},12:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);a(10),a(12);var n,l,r,o,c=a(4),s=a(0),u=a.n(s),i=a(2),d=a(8);!function(e){e.INCREMENT_SHARES="share.inc",e.DECREMENT_SHARES="share.dec",e.CHANGE_SHARE_VALUE="share.change"}(n||(n={})),function(e){e.ADD_PERSON="person.add",e.REMOVE_PERSON="person.remove"}(l||(l={})),function(e){e.SET_SUBTOTAL="subtotal.set",e.SET_GRAND_TOTAL="grandtotal.set"}(r||(r={})),function(e){e.CALCULATE_RESULT="result.calc"}(o||(o={}));var m=a(3),p=a.n(m);function E(e,t){switch(t.type){case l.ADD_PERSON:return 30===e.people.length?e.people:Object(d.a)(e.people).concat([{shares:[0],personTotal:0}]);case l.REMOVE_PERSON:return 2===e.people.length?e.people:e.people.slice(0,-1);case n.INCREMENT_SHARES:case n.DECREMENT_SHARES:case n.CHANGE_SHARE_VALUE:return function(e,t){switch(t.type){case n.INCREMENT_SHARES:return e.map(function(e,a){return null!=t.payload&&null!=t.payload.index&&a===t.payload.index?Object(i.a)({},e,{shares:e.shares.concat([0])}):e});case n.DECREMENT_SHARES:return e.map(function(e,a){return null!=t.payload&&null!=t.payload.index&&a===t.payload.index?Object(i.a)({},e,{shares:e.shares.slice(0,-1)}):e});case n.CHANGE_SHARE_VALUE:return e.map(function(e,a){if(null!=t.payload&&null!=t.payload.shareIndex&&null!=t.payload.value&&a===t.payload.index){var n=e.shares;return n[t.payload.shareIndex]=t.payload.value,Object(i.a)({},e,{shares:n,personTotal:n.reduce(function(e,t){return e+t})})}return e});default:return e}}(e.people,t);default:return e.people}}function f(e,t){return{people:E(e,t),totals:function(e,t){if(null==t.payload)return e.totals;switch(t.type){case r.SET_SUBTOTAL:return Object(i.a)({},e.totals,{subtotal:t.payload.value||0});case r.SET_GRAND_TOTAL:return Object(i.a)({},e.totals,{grandtotal:t.payload.value||0});default:return e.totals}}(e,t),result:function(e,t){switch(t.type){case o.CALCULATE_RESULT:var a=0,n=e.people.map(function(t,n){var l=t.personTotal/e.totals.subtotal;return a+=t.personTotal,{personalTotal:t.personTotal,percentOfGrandTotal:l,amountOwed:l*e.totals.grandtotal}});return 0===e.totals.subtotal?(p()({text:"Enter a Subtotal!",confirmButtonColor:"#70d6ff"}),e.result):0===e.totals.grandtotal?(p()({text:"Enter a Grand Total!",confirmButtonColor:"#70d6ff"}),e.result):a.toFixed(2)!=e.totals.subtotal.toFixed(2)?(p()({text:"Items don't add up to subtotal!",confirmButtonColor:"#70d6ff"}),e.result):n.reduce(function(e,t){return e+t.amountOwed},0).toFixed(2)!=e.totals.grandtotal.toFixed(2)?(p()({text:"Grand Total incorrect!",confirmButtonColor:"#70d6ff"}),e.result):{grandtotal:e.totals.grandtotal,subtotal:e.totals.subtotal,results:n};default:return e.result}}(e,t)}}var v=u.a.createContext(function(e){}),h={people:[{shares:[0],personTotal:0},{shares:[0],personTotal:0}],totals:{subtotal:0,grandtotal:0},result:null};function T(e){var t=Object(s.useReducer)(f,h),a=Object(c.a)(t,2),n=a[0],l=a[1];return u.a.createElement(v.Provider,{value:l},e.children(n))}function y(){return u.a.createElement("div",{style:{fontSize:"12px",marginTop:"48px"}},u.a.createElement("hr",null),"Made with <3 by ",u.a.createElement("a",{href:"https://www.victorszeto.com"},"Victor Szeto"))}var b=a(6),g=a.n(b);function N(e){var t=e.children,a=e.className,n=e.onClick,l=e.type,r=e.disabled,o=e.disableInk;return u.a.createElement("button",{onClick:null!=n?n:void 0,className:null!=a?a:void 0,disabled:null!=r?r:void 0,type:null!=l?l:void 0},t,!o&&u.a.createElement(g.a,null))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"$";if(null==e)return{value:0,maskedValue:"".concat(n,"0.00")};var l=String(e);if(0===l.length)return{value:0,maskedValue:"".concat(n,"0.00")};var r=l.match(/\d/g)||["0"];for(l.length>8&&r.pop();r.length<=2;)r.unshift("0");r.splice(r.length-2,0,"."),r=Number(r.join("")).toFixed(2).split("");var o=Number(r.join("")),c=r.length-2-1;r[c]=t;for(var s=c-3;s>0;s-=3)r.splice(s,0,a);return n.length>0&&r.unshift(n),{value:o,maskedValue:r.join("").trim()}}function x(e){var t=e.id,a=e.name,n=e.onChangeEvent,l=e.value,r=Object(s.useState)(S(l)),o=Object(c.a)(r,2),i=o[0],d=o[1];return u.a.createElement("div",{className:"col"},u.a.createElement("input",{key:a,className:"col",onChange:function(e){e.preventDefault();var t=S(e.currentTarget.value),a=t.maskedValue,l=t.value;d({maskedValue:a,value:l}),n(l)},prefix:"$",value:i.maskedValue,name:a||void 0,id:t||void 0}))}var A=a(1),C=a.n(A);function R(e){var t=e.idx,a=e.person,l=Object(s.useContext)(v),r=navigator.userAgent.match("Mobi");return u.a.createElement(u.a.Fragment,null,u.a.createElement("label",{contentEditable:!0,htmlFor:"person-".concat(t)},"Person ",t+1),a.shares.length>1&&u.a.createElement("span",{style:{fontSize:"12px"}},"\xb7 Total: ".concat(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a.personTotal))),u.a.createElement("div",{className:C()("row")},a.shares.map(function(e,a){return u.a.createElement(x,{key:a,onChangeEvent:function(e){return function(e,a){l({type:n.CHANGE_SHARE_VALUE,payload:{index:t,shareIndex:e,value:a}})}(a,e)},value:e,name:0===a?"person-".concat(t):void 0,id:0===a?"person-".concat(t):void 0})}),a.shares.length>1&&u.a.createElement(N,{className:"col-1",onClick:function(t){t.preventDefault(),l({type:n.DECREMENT_SHARES,payload:{index:e.idx}})}},r?"Remove Item":"-"),a.shares.length<=8&&u.a.createElement(N,{className:"col-1",onClick:function(t){t.preventDefault(),l({type:n.INCREMENT_SHARES,payload:{index:e.idx}})}},r?"Add Item":"+")))}function O(e){var t=Object(s.useContext)(v);return u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",null,"Items"),u.a.createElement("div",null,e.people.map(function(e,t){return u.a.createElement(R,{person:e,idx:t,key:t})})),u.a.createElement("div",{className:C()("row"),style:{marginTop:"32px"}},e.people.length<30&&u.a.createElement(N,{onClick:function(e){e.preventDefault(),t({type:l.ADD_PERSON})},className:C()("center","col","background-green")},"Add Person"),e.people.length>2&&u.a.createElement(N,{onClick:function(e){e.preventDefault(),t({type:l.REMOVE_PERSON})},className:C()("center","col","background-red"),disabled:2===e.people.length},"Remove Person")))}var _=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function w(e){var t=Object(s.useContext)(v),a=e.result;return u.a.createElement(u.a.Fragment,null,u.a.createElement(N,{className:C()("background-blue"),onClick:function(){return t({type:o.CALCULATE_RESULT})},type:"submit"},"Calculate"),a&&u.a.createElement(u.a.Fragment,null,u.a.createElement("hr",null),u.a.createElement("h4",null,"Results"),u.a.createElement("div",{className:"row",style:{borderBottom:"1px solid #111"}},u.a.createElement("div",{className:"col"},u.a.createElement("h6",null,"Person")),u.a.createElement("div",{className:"col"},u.a.createElement("h6",null,"Amount Owed")),u.a.createElement("div",{className:"col"},u.a.createElement("h6",null,"Breakdown"))),a.results.map(function(e,t){var n=e.personalTotal,l=e.percentOfGrandTotal,r=e.amountOwed;return u.a.createElement("div",{className:"row",key:t},u.a.createElement("div",{className:"col"},"Person ",t+1),u.a.createElement("div",{className:"col",style:{fontWeight:"bold"}},_.format(r)),u.a.createElement("div",{className:"col"},_.format(n),u.a.createElement("span",{style:{fontSize:"12px"}}," (Items)")," + ",_.format(l*(a.grandtotal-a.subtotal)),u.a.createElement("span",{style:{fontSize:"12px"}}," (Tax & Tip)")))})))}function k(e){var t=Object(s.useContext)(v),a=e.totals,n=a.grandtotal,l=a.subtotal;return u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",{className:C()("row")},"Totals"),u.a.createElement("div",{className:C()("row")},u.a.createElement("div",{className:C()("col")},u.a.createElement("label",{htmlFor:"subtotal"},"Subtotal"),u.a.createElement("span",{style:{fontSize:"12px"}},"\xb7 ","Sum of the prices of all items"),u.a.createElement(x,{onChangeEvent:function(e){t({type:r.SET_SUBTOTAL,payload:{value:e}})},value:l,name:"subtotal",id:"subtotal"}))),u.a.createElement("div",{className:C()("row")},u.a.createElement("div",{className:C()("col")},u.a.createElement("label",{htmlFor:"grandTotal"},"Grand Total"),u.a.createElement("span",{style:{fontSize:"12px"}},"\xb7 ","Entire amount paid, including tax and tip"),u.a.createElement(x,{onChangeEvent:function(e){t({type:r.SET_GRAND_TOTAL,payload:{value:e}})},value:n,name:"grandTotal",id:"grandTotal"}))))}var D=a(7),L=a.n(D),j=document.getElementById("root");L.a.render(u.a.createElement(function(){return u.a.createElement(T,null,function(e){return u.a.createElement("div",{className:"container center"},u.a.createElement("h1",null,"billsplit"),u.a.createElement(O,{people:e.people}),u.a.createElement("hr",null),u.a.createElement(k,{totals:e.totals}),u.a.createElement(w,{result:e.result}),u.a.createElement(y,null))})},null),j)},9:function(e,t,a){e.exports=a(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.76baafea.chunk.js.map