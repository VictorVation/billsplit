(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},12:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);a(10),a(12);var n,l,r,o,c=a(4),u=a(0),s=a.n(u),i=a(2),d=a(8);!function(e){e.INCREMENT_SHARES="share.inc",e.DECREMENT_SHARES="share.dec",e.CHANGE_SHARE_VALUE="share.change"}(n||(n={})),function(e){e.ADD_PERSON="person.add",e.REMOVE_PERSON="person.remove"}(l||(l={})),function(e){e.SET_SUBTOTAL="subtotal.set",e.SET_GRAND_TOTAL="grandtotal.set"}(r||(r={})),function(e){e.CALCULATE_RESULT="result.calc"}(o||(o={}));var p=a(3),m=a.n(p);function E(e,t){switch(t.type){case l.ADD_PERSON:return 30===e.people.length?e.people:Object(d.a)(e.people).concat([{shares:[0],personTotal:0}]);case l.REMOVE_PERSON:return 2===e.people.length?e.people:e.people.slice(0,-1);case n.INCREMENT_SHARES:case n.DECREMENT_SHARES:case n.CHANGE_SHARE_VALUE:return function(e,t){switch(t.type){case n.INCREMENT_SHARES:return e.map(function(e,a){return null!=t.payload&&null!=t.payload.index&&a===t.payload.index?Object(i.a)({},e,{shares:e.shares.concat([0])}):e});case n.DECREMENT_SHARES:return e.map(function(e,a){return null!=t.payload&&null!=t.payload.index&&a===t.payload.index?Object(i.a)({},e,{shares:e.shares.slice(0,-1)}):e});case n.CHANGE_SHARE_VALUE:return e.map(function(e,a){if(null!=t.payload&&null!=t.payload.shareIndex&&null!=t.payload.value&&a===t.payload.index){var n=e.shares;return n[t.payload.shareIndex]=t.payload.value,Object(i.a)({},e,{shares:n,personTotal:n.reduce(function(e,t){return e+t})})}return e});default:return e}}(e.people,t);default:return e.people}}function f(e,t){return{people:E(e,t),totals:function(e,t){if(null==t.payload)return e.totals;switch(t.type){case r.SET_SUBTOTAL:return Object(i.a)({},e.totals,{subtotal:t.payload.value||0});case r.SET_GRAND_TOTAL:return Object(i.a)({},e.totals,{grandtotal:t.payload.value||0});default:return e.totals}}(e,t),result:function(e,t){switch(t.type){case o.CALCULATE_RESULT:var a=0,n=e.people.map(function(t,n){return a+=t.personTotal,t.personTotal/e.totals.subtotal*e.totals.grandtotal});return 0===e.totals.subtotal?(m()({text:"Enter a Subtotal!",confirmButtonColor:"#70d6ff"}),e.result):0===e.totals.grandtotal?(m()({text:"Enter a Grand Total!",confirmButtonColor:"#70d6ff"}),e.result):a.toFixed(2)!=e.totals.subtotal.toFixed(2)?(m()({text:"Items don't add up to subtotal!",confirmButtonColor:"#70d6ff"}),e.result):n.reduce(function(e,t){return e+t}).toFixed(2)!=e.totals.grandtotal.toFixed(2)?(m()({text:"Grand Total incorrect!",confirmButtonColor:"#70d6ff"}),e.result):{splits:n,tip:e.totals.grandtotal/e.totals.subtotal-1};default:return e.result}}(e,t)}}var v=s.a.createContext(function(e){}),h={people:[{shares:[0],personTotal:0},{shares:[0],personTotal:0}],totals:{subtotal:0,grandtotal:0},result:null};function g(e){var t=Object(u.useReducer)(f,h),a=Object(c.a)(t,2),n=a[0],l=a[1];return s.a.createElement(v.Provider,{value:l},e.children(n))}function y(){return s.a.createElement("div",{style:{fontSize:"12px",marginTop:"48px"}},s.a.createElement("hr",null),"Made with <3 by ",s.a.createElement("a",{href:"https://www.victorszeto.com"},"Victor Szeto"))}var S=a(6),b=a.n(S);function T(e){var t=e.children,a=e.className,n=e.onClick,l=e.type,r=e.disabled,o=e.disableInk;return s.a.createElement("button",{onClick:null!=n?n:void 0,className:null!=a?a:void 0,disabled:null!=r?r:void 0,type:null!=l?l:void 0},t,!o&&s.a.createElement(b.a,null))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"$";if(null==e)return{value:0,maskedValue:"".concat(n,"0.00")};var l=String(e);if(0===l.length)return{value:0,maskedValue:"".concat(n,"0.00")};var r=l.match(/\d/g)||["0"];for(l.length>8&&r.pop();r.length<=2;)r.unshift("0");r.splice(r.length-2,0,"."),r=Number(r.join("")).toFixed(2).split("");var o=Number(r.join("")),c=r.length-2-1;r[c]=t;for(var u=c-3;u>0;u-=3)r.splice(u,0,a);return n.length>0&&r.unshift(n),{value:o,maskedValue:r.join("").trim()}}function A(e){var t=e.id,a=e.name,n=e.onChangeEvent,l=e.value,r=Object(u.useState)(N(l)),o=Object(c.a)(r,2),i=o[0],d=o[1];return s.a.createElement("div",{className:"col"},s.a.createElement("input",{key:a,className:"col",onChange:function(e){e.preventDefault();var t=N(e.currentTarget.value),a=t.maskedValue,l=t.value;d({maskedValue:a,value:l}),n(l)},prefix:"$",value:i.maskedValue,name:a||void 0,id:t||void 0}))}var C=a(1),R=a.n(C);function x(e){var t=e.idx,a=e.person,l=Object(u.useContext)(v),r=navigator.userAgent.match("Mobi");return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:"person-".concat(t)},"Person ",t+1),a.shares.length>1&&s.a.createElement("span",{style:{fontSize:"12px"}},"\xb7 Total: ".concat(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a.personTotal))),s.a.createElement("div",{className:R()("row")},a.shares.map(function(e,a){return s.a.createElement(A,{key:a,onChangeEvent:function(e){return function(e,a){l({type:n.CHANGE_SHARE_VALUE,payload:{index:t,shareIndex:e,value:a}})}(a,e)},value:e,name:0===a?"person-".concat(t):void 0,id:0===a?"person-".concat(t):void 0})}),a.shares.length>1&&s.a.createElement(T,{className:"col-1",onClick:function(t){t.preventDefault(),l({type:n.DECREMENT_SHARES,payload:{index:e.idx}})}},r?"Remove Item":"-"),a.shares.length<=8&&s.a.createElement(T,{className:"col-1",onClick:function(t){t.preventDefault(),l({type:n.INCREMENT_SHARES,payload:{index:e.idx}})}},r?"Add Item":"+")))}function _(e){var t=Object(u.useContext)(v);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,e.people.map(function(e,t){return s.a.createElement(x,{person:e,idx:t,key:t})})),s.a.createElement("div",{className:R()("row"),style:{marginTop:"32px"}},e.people.length<30&&s.a.createElement(T,{onClick:function(e){e.preventDefault(),t({type:l.ADD_PERSON})},className:R()("center","col","background-green")},"Add Person"),e.people.length>2&&s.a.createElement(T,{onClick:function(e){e.preventDefault(),t({type:l.REMOVE_PERSON})},className:R()("center","col","background-red"),disabled:2===e.people.length},"Remove Person")))}function O(e){var t=Object(u.useContext)(v);return s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{className:R()("background-blue"),onClick:function(){return t({type:o.CALCULATE_RESULT})},type:"submit"},"Calculate"),e.result&&s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("h4",null,"Results"),e.result.splits.map(function(e,t){return s.a.createElement("div",{className:"row",key:t},s.a.createElement("div",{className:"col"},"Person ",t+1),s.a.createElement("div",{className:"col"},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)))})))}function k(e){var t=Object(u.useContext)(v),a=e.totals,n=a.grandtotal,l=a.subtotal;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:R()("row")},s.a.createElement("div",{className:R()("col")},s.a.createElement("label",{htmlFor:"subtotal"},"Subtotal"),s.a.createElement("span",{style:{fontSize:"12px"}},"\xb7 ","Sum of the prices of all items"),s.a.createElement(A,{onChangeEvent:function(e){t({type:r.SET_SUBTOTAL,payload:{value:e}})},value:l,name:"subtotal",id:"subtotal"}))),s.a.createElement("div",{className:R()("row")},s.a.createElement("div",{className:R()("col")},s.a.createElement("label",{htmlFor:"grandTotal"},"Grand Total"),s.a.createElement("span",{style:{fontSize:"12px"}},"\xb7 ","Entire amount paid, including tax and tip"),s.a.createElement(A,{onChangeEvent:function(e){t({type:r.SET_GRAND_TOTAL,payload:{value:e}})},value:n,name:"grandTotal",id:"grandTotal"}))))}var w=a(7),D=a.n(w),L=document.getElementById("root");D.a.render(s.a.createElement(function(){return s.a.createElement(g,null,function(e){return s.a.createElement("div",{className:"container center"},s.a.createElement("h1",null,"billsplit"),s.a.createElement(_,{people:e.people}),s.a.createElement("hr",null),s.a.createElement(k,{totals:e.totals}),s.a.createElement(O,{result:e.result}),s.a.createElement(y,null))})},null),L)},9:function(e,t,a){e.exports=a(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.d25eef46.chunk.js.map